#spring.jpa.generate-ddl=true
#spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow
# Enable batch inserts/updates for better performance when saving large numbers of entities
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
logging.level.web=info
# IPTV Trace Logging: Enable TRACE level exception logging for IPTV streaming diagnostics
# Uncomment the following lines to enable detailed exception logging for IPTV streaming:
# logging.level.io.skjaere.debridav.stream.StreamingService=TRACE
# logging.level.io.skjaere.debridav.debrid.client.DefaultStreamableLinkPreparer=TRACE
# See IPTV_TRACE_LOGGING_GUIDE.md for more details on viewing and filtering these logs
spring.servlet.multipart.max-file-size=-1
spring.servlet.multipart.max-request-size=-1
management.endpoints.web.exposure.include=health,realdebrid,prometheus,cache,streaming-download-tracking,loggers,configuration
management.endpoint.health.group.readiness.include=fileSystemImportService
management.endpoint.health.group.liveness.exclude=fileSystemImportService
management.endpoint.health.probes.enabled=true
debridav.root-path=${user.dir}/debridav-files
debridav.download-path=/downloads
debridav.mount-path=/data
debridav.debrid-clients=
debridav.delay-between-retries=200ms
debridav.retries-on-provider-error=1
debridav.wait-after-missing=24h
debridav.wait-after-network-error=1000ms
debridav.wait-after-provider-error=10m
debridav.wait-after-client-error=1000ms
debridav.should-delete-non-working-files=true
debridav.connect-timeout-milliseconds=5000
debridav.read-timeout-milliseconds=5000
debridav.enable-file-import-on-startup=true
debridav.chunk-caching-grace-period=0m
debridav.chunk-caching-size-threshold=5120000
debridav.cache-max-size-gb=10
debridav.local-entity-max-size-mb=130
# Local entity storage configuration
# File extensions that should always be stored as LocalEntity (bypass size checks)
# Default: empty (disabled) - feature is opt-in
# To enable, set to comma-separated list of extensions (e.g., "srt,vtt,ass,ssa,sub,idx,sup,ttml,dfxp,usf")
# These files (typically subtitle files) will be stored in the database regardless of size
debridav.local-entity-always-store-extensions=
# Enable scanning and converting RemotelyCachedEntity items to LocalEntity on startup
# Default: false (disabled) - feature is opt-in
# When enabled, scans all RemotelyCachedEntity items on application startup and converts matching files
# (based on local-entity-always-store-extensions) to LocalEntity by downloading and storing their contents
# Requires local-entity-always-store-extensions to be configured with at least one extension
debridav.enable-local-entity-conversion-startup-scan=false
debridav.default-categories=
debridav.torrent-lifetime=1d
# Downloads cleanup configuration
# Enable time-based cleanup for downloads folder (default: false = immediate cleanup, no age check)
# When true, cleanup only removes files/torrents older than downloadsCleanupTimeBasedThresholdMinutes
# When false (default), cleanup is immediate (no age check) - all orphaned content is removed immediately
debridav.enable-downloads-cleanup-time-based=false
# Time threshold in minutes for time-based cleanup (default: 10 minutes)
# Only used if enable-downloads-cleanup-time-based is true
# Files/torrents older than this threshold will be cleaned up
debridav.downloads-cleanup-time-based-threshold-minutes=10
# Optional: Debug suffix to append to contentPath in ARR torrent info API responses (for testing/debugging)
# When set, this suffix will be appended to all contentPath values in /api/v2/torrents/info responses
# (qBittorrent emulation API endpoint used by Sonarr/Radarr for torrent download client integration)
# This makes the paths invalid for Radarr/Sonarr, allowing you to inspect API responses without affecting actual downloads
# Example: debridav.debug-arr-torrent-info-content-path-suffix=__DEBUG_TESTING
# Or via environment variable: DEBRIDAV_DEBUG_ARR_TORRENT_INFO_CONTENT_PATH_SUFFIX=__DEBUG_TESTING
# debridav.debug-arr-torrent-info-content-path-suffix=
# Database
debridav.db.host=localhost
debridav.db.port=5432
debridav.db.database-name=debridav
spring.datasource.username=debridav
spring.datasource.password=debridav
# five hours
spring.datasource.hikari.max-lifetime=180000000
spring.datasource.hikari.idle-timeout=0
spring.datasource.url=jdbc:postgresql://${debridav.db.host}:5432/debridav
spring.datasource.hikari.maximum-pool-size=10
# Premiumize
premiumize.api-key=
premiumize.base-url=https://www.premiumize.me/api
# Premiumize WebDAV credentials (separate from REST API key)
# These are required for the debrid folder mapping feature with WebDAV sync method
# Get your WebDAV credentials from: https://www.premiumize.me/account
premiumize.webdav-username=
premiumize.webdav-password=
# Real-Debrid
real-debrid.api-key=
real-debrid.base-url=https://api.real-debrid.com/rest/1.0
real-debrid.sync-enabled=true
real-debrid.sync-poll-rate=PT24H
# Real-Debrid WebDAV credentials (separate from REST API key)
# These are required for the debrid folder mapping feature with WebDAV sync method
# Get your WebDAV credentials from your Real-Debrid account settings
real-debrid.webdav-username=
real-debrid.webdav-password=
# TorBox
torbox.api-key=
torbox.base-url=https://api.torbox.app
torbox.version=v1
torbox.request-timeout-millis=10000
torbox.socket-timeout-millis=10000
logging.level.io.milton.http.*=error

# STRM Proxy Logging (set to DEBUG to see proxy URL processing steps)
# logging.level.io.skjaere.debridav.resource.StrmRedirectProxyController=DEBUG

# IPTV Logging (set to DEBUG for detailed IPTV logs, INFO for normal operation)
# logging.level.io.skjaere.debridav.iptv=DEBUG
# logging.level.io.skjaere.debridav.iptv.IptvSyncService=DEBUG
# logging.level.io.skjaere.debridav.iptv.IptvRequestService=DEBUG
# logging.level.io.skjaere.debridav.iptv.IptvContentService=DEBUG
# logging.level.io.skjaere.debridav.iptv.IptvApiController=DEBUG
# logging.level.io.skjaere.debridav.iptv.IptvController=DEBUG
# logging.level.io.skjaere.debridav.iptv.parser.M3uParser=DEBUG
# logging.level.io.skjaere.debridav.iptv.client.XtreamCodesClient=DEBUG
# logging.level.io.skjaere.debridav.iptv.configuration.IptvConfigurationService=DEBUG
# IPTV-related logging in TorrentService
# logging.level.io.skjaere.debridav.torrent.TorrentService=DEBUG

# Easynews
easynews.username=
easynews.password=
easynews.api-base-url=https://members.easynews.com
easynews.enabled-for-torrents=true
easynews.rate-limit-window-duration=15s
easynews.allowed-requests-in-window=10
easynews.connect-timeout=20000
easynews.socket-timeout=5000
# Sonarr
sonarr.integration-enabled=false
sonarr.host=localhost
sonarr.port=8990
sonarr.api-base-path=/api/v3
sonarr.api-key=1105779a7abb40898567b406442cd927
sonarr.category=tv-sonarr
radarr.integration-enabled=false
radarr.host=localhost
radarr.port=7878
radarr.api-base-path=/api/v3
radarr.api-key=8d273d4f92294234a9cdddba605054e1
radarr.category=radarr

debridav.link-liveness-cache-duration=15m
debridav.cached-file-cache-duration=30m
# Streaming retry configuration
# These settings control retry behavior for streaming operations (Debrid and IPTV content)
# Used in:
#   - IPTV file size fetching (IptvRequestService.fetchActualFileSize)
#   - Link alive checks before streaming (DefaultStreamableLinkPreparer.isLinkAlive)
#   - Stream URL preparation (DefaultStreamableLinkPreparer.prepareStreamUrl)
# 
# Delay between retry attempts for non-network errors (e.g., provider errors, HTTP errors)
# Format: Duration (e.g., 50ms, 100ms, 1s)
# Default: 50ms - Quick retries for transient provider issues
debridav.streaming.delay-between-retries=50ms

# Number of retry attempts when encountering provider errors during streaming
# Set to 0 to disable retries. Value of 2 means 3 total attempts (initial + 2 retries)
# Default: 2 - Reasonable balance between reliability and avoiding long delays
debridav.streaming.retries-on-provider-error=2

# Wait time after a network error before retrying
# Network errors (timeouts, connection failures) get slightly longer wait time
# Format: Duration (e.g., 100ms, 1s)
# Default: 100ms - Slightly longer than delay-between-retries to allow network to stabilize
debridav.streaming.wait-after-network-error=100ms

# Wait time after provider errors (not currently used in streaming retry logic)
debridav.streaming.wait-after-provider-error=1m
# Wait time after client errors (not currently used in streaming retry logic)
debridav.streaming.wait-after-client-error=100ms

debridav.enable-chunk-caching=true
debridav.enable-in-memory-buffering=true

# Streaming buffer configuration
# Buffer size in bytes for direct streaming (default: 65536 = 64KB)
# Controls the size of the buffer used when streaming content directly from external providers
# debridav.streaming.buffer-size=65536

# Flush multiplier for streaming (default: 4)
# Flush interval = buffer-size * flush-multiplier
# Example: With default 64KB buffer and multiplier of 4, flushes occur every 256KB
# debridav.streaming.flush-multiplier=4

# Enable optimization headers for VFS path (Milton) streaming
# When false (default), the MediaStreamingOptimizationFilter is completely disabled and will not run
# When true, the filter is enabled and optimization headers are added/overridden (Cache-Control: no-store, Content-Encoding: identity, X-Accel-Buffering: no, Accept-Ranges: bytes)
# This is an opt-in feature - the filter only runs when this is explicitly set to true
# debridav.enable-vfs-optimization-headers=false

# Log existing Milton headers before modification (for debugging/verification)
# When false (default), no header logging occurs
# When true, logs all response headers that Milton sets at DEBUG level
# Independent of enable-vfs-optimization-headers - can log headers even when not applying optimizations
# debridav.log-vfs-headers=false

# Byte range chunking control - set to true to prevent aggressive chunking and caching
debridav.disable-byte-range-request-chunking=false

# Debrid direct download response cache expiration (default: 30s)
# Format: Duration (e.g., 30s, 1m, 60s)
# This controls how long debrid client response cache entries are kept before cleanup
# debridav.debrid-direct-dl-response-cache-expiration-seconds=30s

# Streaming download tracking cache expiration (default: 24h)
# Format: Duration in hours (e.g., 24h, 48h, 12h)
# This controls how long completed download tracking entries are kept before cleanup
# debridav.streaming.download-tracking-cache-expiration-hours=24h

# Streaming download tracking active timeout (default: 15m)
# Format: Duration in minutes (e.g., 15m, 30m, 1h)
# This controls how long an active download can remain in activeDownloads without progress before being considered stale
# Chunks should complete quickly (seconds to minutes), so 15 minutes is sufficient to catch dead connections while allowing normal playback
# debridav.streaming.download-tracking-active-timeout-minutes=15m

# Streaming maximum chunk size warning threshold (default: 1024 MB = 1 GB)
# Warns when video players request chunks larger than this threshold
# Large chunks may cause video playback pauses due to buffer underruns
# debridav.streaming.max-chunk-size-warning-mb=1024
# debridav.streaming-download-tracking-cache-expiration-hours=24h

# STRM file configuration
# STRM files are text files containing paths to media files, commonly used with Plex/Jellyfin
# When enabled, creates virtual STRM folders that mirror your media folders with .strm files

# Enable/disable STRM feature
# When true, creates STRM folders based on folder mappings
# When false, STRM folders will not appear
# Default: false
# debridav.strm.enabled=false

# Maps root folders to STRM folders (comma-separated key=value pairs)
# Format: original_folder=strm_folder,original_folder2=strm_folder2
# Example: tv=tv_strm,movies=movies_strm creates /tv_strm mirroring /tv and /movies_strm mirroring /movies
# If not set, no STRM folders will be created
# debridav.strm.folder-mappings=

# Optional prefix for paths written in STRM file content
# If set, this prefix will be prepended to all paths in STRM files
# Example: If set to /media, a file at /tv/show/episode.mkv will have STRM content /media/tv/show/episode.mkv
# If not set, paths are written as-is (e.g., /tv/show/episode.mkv)
# debridav.strm.root-path-prefix=

# How to handle file extensions when creating STRM files
# REPLACE: Replaces the original extension with .strm (e.g., episode.mkv -> episode.strm)
# APPEND: Appends .strm to the filename (e.g., episode.mkv -> episode.mkv.strm)
# Default: REPLACE
# debridav.strm.file-extension-mode=REPLACE

# Which files to convert to STRM files
# ALL: Convert all files to STRM files
# MEDIA_ONLY: Only convert files with extensions listed in debridav.strm.media-extensions
# NON_STRM: Convert all files except .strm files
# Default: MEDIA_ONLY
# debridav.strm.file-filter-mode=MEDIA_ONLY

# Comma-separated list of media file extensions when filter mode is MEDIA_ONLY
# Extensions should be specified without dots (e.g., mkv,mp4,avi)
# Default: mkv,mp4,avi,mov,m4v,mpg,mpeg,wmv,flv,webm,ts,m2ts
# debridav.strm.media-extensions=mkv,mp4,avi,mov,m4v,mpg,mpeg,wmv,flv,webm,ts,m2ts

# Comma-separated list of provider names for which to create STRM files
# Supports ALL/* for all providers and ! prefix for negation
# Valid provider names: IPTV, REAL_DEBRID, PREMIUMIZE, EASYNEWS, TORBOX
# Default: * (all providers use STRM files)
# Examples:
#   * - All providers will use STRM files (default)
#   *,!IPTV - All providers except IPTV will use STRM files (IPTV uses original files)
#   REAL_DEBRID,PREMIUMIZE - Only Real-Debrid and Premiumize will use STRM files
# Files from providers not in this list will use original media files directly
# debridav.strm.providers=*

# Optional regex pattern to match filenames that should be excluded from STRM file creation
# Files matching this pattern will use original media files instead of STRM files
# This check happens after provider filtering but before extension filtering
# Examples:
#   .*sample.* - Exclude files containing "sample" in the filename
#   .*\\.sample\\.mkv$ - Exclude files ending with ".sample.mkv"
#   ^sample_ - Exclude files starting with "sample_"
# If not set (empty), no filename-based exclusion is performed
# debridav.strm.exclude-filename-regex=

# Comma-separated list of provider names for which to use external URLs in STRM files
# Supports ALL/* for all providers and ! prefix for negation
# Valid provider names: IPTV, REAL_DEBRID, PREMIUMIZE, EASYNEWS, TORBOX
# Examples:
#   IPTV - Only IPTV content will use external URLs
#   ALL or * - All providers will use external URLs
#   *,!REAL_DEBRID - All providers except Real-Debrid will use external URLs
#   IPTV,REAL_DEBRID - Both IPTV and Real-Debrid content will use external URLs
# If not set (empty), all providers will use VFS paths (default behavior)
# If external URL is not available for a provider, falls back to VFS path
# debridav.strm.use-external-url-for-providers=

# Comma-separated list of provider names for which external URLs should use proxy URLs instead of direct URLs in STRM files
# Takes priority over debridav.strm.use-external-url-for-providers - if a provider is enabled here, it will use proxy URLs
# Implicitly enables external URLs - if a provider is enabled here, external URLs are automatically used
# Supports ALL/* for all providers and ! prefix for negation
# Valid provider names: IPTV, REAL_DEBRID, PREMIUMIZE, EASYNEWS, TORBOX
# Examples:
#   PREMIUMIZE - Only Premiumize will use proxy URLs (implicitly enables external URLs for Premiumize)
#   ALL or * - All providers will use proxy URLs
#   *,!IPTV - All providers except IPTV will use proxy URLs (IPTV URLs don't expire)
#   PREMIUMIZE,REAL_DEBRID - Both Premiumize and Real-Debrid will use proxy URLs
# Interaction with debridav.strm.use-external-url-for-providers:
#   - If provider is in both: Uses proxy URL (proxy takes priority)
#   - If provider is only in proxy-external-url: Uses proxy URL (implicitly enables external URLs)
#   - If provider is only in use-external-url: Uses direct external URL
#   - If provider is in neither: Uses VFS path
# If not set (empty), external URLs will use direct URLs (default behavior)
# This is useful when using external URLs for providers like PREMIUMIZE where URLs may expire
# When enabled, STRM files will contain proxy URLs instead of direct external URLs
# The proxy checks if URLs are expired when accessed and refreshes them before redirecting
# debridav.strm.proxy-external-url-for-providers=

# Base URL for STRM redirect proxy (optional)
# Defaults to http://{detected-hostname}:8080 if not set (hostname detected via network at startup)
# This should be the base URL that media servers (Jellyfin, Plex) can reach
# Example: debridav.strm.proxy-base-url=http://debridav:8080
# Example: debridav.strm.proxy-base-url=http://192.168.1.100:8888
# debridav.strm.proxy-base-url=

# Enable streaming mode for STRM proxy (optional, default: false)
# If true, content is streamed directly through the proxy instead of redirecting to external URLs
# This provides more control over content delivery and allows for better caching and monitoring
# When false (default), the proxy redirects to the external URL after verifying/refreshing it
# When true, the proxy streams content directly using the same streaming logic as VFS files
# debridav.strm.proxy-stream-mode=false

# Local video file approach for ARR projects
# This serves small local video files instead of the actual media files to reduce bandwidth usage
# debridav.enable-rclone-arrs-local-video=false

# Video file mapping (single configuration option for all scenarios)
# Format: resolution=filepath,resolution=filepath
# Pipe syntax: resolution1|resolution2=filepath (multiple resolutions for same file)
# Default syntax: resolution|=filepath or =filepath (default fallback when no resolution matches)
# Single file syntax: filepath (default for all files)
# Examples:
#   Single file: debridav.rclone-arrs-local-video-file-paths=/tmp/video.mp4
#   Resolution mapping: debridav.rclone-arrs-local-video-file-paths=1080p=/tmp/video_1080p.mkv,720p=/tmp/video_720p.mp4
#   Mixed with default: debridav.rclone-arrs-local-video-file-paths=1080p=/tmp/video_1080p.mkv,/tmp/video_default.mp4
#   Pipe syntax: debridav.rclone-arrs-local-video-file-paths=2160p|1080p=/tmp/video_1080p.mkv,720p|=/tmp/video_720p.mp4
# debridav.rclone-arrs-local-video-file-paths=

# Regex pattern to match file paths for local video serving (optional)
# If not specified, all paths will be served with local video files
# Example: debridav.rclone-arrs-local-video-path-regex=.*\\.(mp4|mkv|avi)$
# debridav.rclone-arrs-local-video-path-regex=

# Minimum file size threshold for local video serving (optional)
# Files smaller than this threshold (in KB) will be served externally instead of using local video
# This is useful for serving small clips, trailers, or previews externally while using local video for large files
# Example: debridav.rclone-arrs-local-video-min-size-kb=1024 (1MB threshold)
# debridav.rclone-arrs-local-video-min-size-kb=

# ARR detection patterns (for local video serving)
# debridav.rclone-arrs-user-agent-pattern=rclone
# debridav.rclone-arrs-hostname-pattern=radarr

# IPTV
iptv.enabled=false
iptv.sync-interval=PT24H
iptv.initial-sync-delay=PT30S
iptv.providers=
# Optional: Language prefixes to try when searching IPTV content
# The system will try each prefix in order, and if results are found, return those results
# If no prefix produces results, it will fallback to searching without a prefix
# 
# NEW: Prefixes can be separated by comma (,) within a single string value.
# Each prefix will be automatically expanded into separator variations using languagePrefixExpansionSeparators (default: '| ', '- ', ' - ')
# 
# IMPORTANT: Spring Boot trims whitespace when parsing comma-separated lists from environment variables.
# For prefixes with trailing spaces (e.g., "AM| "), use IPTV_LANGUAGE_PREFIXES_INDEX format to preserve the space.
# 
# You can combine both formats:
#   - IPTV_LANGUAGE_PREFIXES_INDEX_0="AM| "    # Indexed format (preserves trailing spaces)
#   - IPTV_LANGUAGE_PREFIXES="007,4K-A+,EN,NF" # Comma-separated format (trailing spaces trimmed)
# 
# The indexed prefixes are processed first, then comma-separated prefixes are added.
# 
# Optional: Configure separators used to expand each prefix (default: ["| ", "- ", " - "])
#   iptv.language-prefix-expansion-separators=| ,- , - 
#   iptv.language-prefix-expansion-separators="| ","- "," - "
#
# Properties file examples: 
#   iptv.language-prefixes=EN - ,EN| ,EN | 
#   iptv.language-prefixes="EN - ","EN| ","EN | "
#   iptv.language-prefixes='EN - ','EN| ','EN | '
#   iptv.language-prefixes="007,4K-A+,EN,NF"
#   iptv.language-prefixes-index[0]="AM| "
#   iptv.language-prefixes-index[1]="EN| "
#
# Environment variable examples:
#   # Comma-separated format (trailing spaces will be trimmed):
#   IPTV_LANGUAGE_PREFIXES="007,4K-A+,EN,NF"
#   IPTV_LANGUAGE_PREFIXES=007,4K-A+,EN,NF
#
#   # Indexed format (preserves trailing spaces):
#   IPTV_LANGUAGE_PREFIXES_INDEX_0="AM| "    # Trailing space preserved!
#   IPTV_LANGUAGE_PREFIXES_INDEX_1="EN| "
#
#   # Combined format (RECOMMENDED):
#   IPTV_LANGUAGE_PREFIXES_INDEX_0="AM| "    # Indexed prefixes first (preserves spaces)
#   IPTV_LANGUAGE_PREFIXES="007,4K-A+,4K-AMZ,4K-D+,4K-EN,4K-MAX,4K-MRVL,4K-NF,4K-NF-DO,4M-AMZ,A+,AMZ,CR,D+,D+ ,DWA,EN,EN-TOP,EX,MRVL,Nf,NF,NF-DO,NICK,P+,PCOK,PRMT,SHWT,SKY,TOP,TOP-DO,UFC,UNV,VP"
#
# Note: If a prefix already includes a separator (e.g., "AM| "), it will NOT be expanded further.
# Base prefixes (e.g., "EN") will be expanded to all separator variations: "EN| ", "EN- ", "EN - "
# iptv.language-prefixes=

# Optional: Include provider name in magnet title after -IPTV (for debugging)
# When enabled, the provider name will be included in the magnet title release group
# Example: Movie.Title.1990.1080p.BluRay.x264-IPTV-provider1-NL (where "provider1" is the provider name)
# Default: false
# iptv.include-provider-in-magnet-title=false

# Optional: Maximum number of search results to return (0 = unlimited)
# When set to a positive number, only the top N most relevant results will be returned
# Results are sorted by relevance score (exact matches first, then partial matches)
# This helps reduce noise when searching for common titles that return many results
# Example: iptv.max-search-results=5 (returns top 5 most relevant results)
# Default: 0 (unlimited)
# iptv.max-search-results=0

# Optional: Save IPTV provider responses to files for debugging
# When set, responses will be saved to this folder with filenames: {provider-name}_{response-type}.{ext}
# Example: iptv.response-save-folder=/path/to/iptv-responses
# Files are overwritten on each sync, so each provider's files won't conflict
# iptv.response-save-folder=

# Optional: Use local saved responses instead of making HTTP requests
# When true, the system will read from saved response files instead of fetching from providers
# Per-provider setting (iptv.provider.{name}.use-local-responses) takes precedence
# Example: iptv.use-local-responses=true
iptv.use-local-responses=false

# Optional: Rate limit for IPTV provider login/credential verification calls
# Format: Duration (e.g., 1m, 60s, PT1M)
# This controls how long to wait between login calls to the same IPTV provider
# Prevents excessive API calls when multiple requests come in quickly
# Default: 30 minutes (30m)
# Example: iptv.login-rate-limit=30m
# Example: iptv.login-rate-limit=30s
iptv.login-rate-limit=30m

# Examples:
# iptv.providers=provider1,provider2,my-iptv-service
# 
# iptv.initial-sync-delay: Delay before first sync runs after application startup (default: PT30S = 30 seconds)
# iptv.sync-interval: How often to sync IPTV content (default: PT24H = 24 hours)

# For provider1
# iptv.provider.provider1.type=m3u
# iptv.provider.provider1.m3u-url=https://example.com/playlist.m3u

# For provider2
# iptv.provider.provider2.type=xtream_codes
# iptv.provider.provider2.xtream-base-url=https://example.com:8080
# iptv.provider.provider2.xtream-username=user123
# iptv.provider.provider2.xtream-password=pass456

# IPTV Provider Configuration (example for provider named "provider1")
# iptv.provider.provider1.type=m3u
# iptv.provider.provider1.m3u-url=
# iptv.provider.provider1.m3u-file-path=
# iptv.provider.provider1.xtream-base-url=
# iptv.provider.provider1.xtream-username=
# iptv.provider.provider1.xtream-password=
# iptv.provider.provider1.priority=1
# iptv.provider.provider1.sync-enabled=true
# Set sync-enabled=false to disable automatic syncing for this provider
# Content from providers with sync disabled will remain searchable but won't be updated
#
# Optional per-provider: Use local saved responses instead of making HTTP requests
# When set, this overrides the global iptv.use-local-responses setting for this provider
# Example: iptv.provider.provider1.use-local-responses=true

# IPTV Metadata Service Configuration
# OMDB API key for resolving IMDB IDs to titles (optional)
# Get a free API key from http://www.omdbapi.com/apikey.aspx
# If not provided, IMDB ID lookups will be skipped and the system will fall back to query string searches
iptv.metadata.omdb-api-key=
iptv.metadata.omdb-base-url=https://www.omdbapi.com

# IPTV Series Metadata Cache Configuration
# Time-to-live for cached series metadata (episodes, series info)
# Format: Duration (e.g., PT168H for 7 days, PT24H for 24 hours, PT12H for 12 hours)
# Note: Java Duration.parse() doesn't support 'D' (days), use hours instead (7 days = 168 hours)
# Entries not accessed within this period will be purged
# Default: PT168H (7 days = 168 hours)
# Example: iptv.series-metadata-cache-ttl=PT168H
# Example: iptv.series-metadata-cache-ttl=PT24H
iptv.series-metadata-cache-ttl=PT168H

# Interval for running the series metadata purge job
# Format: Duration (e.g., PT24H for 24 hours, PT12H for 12 hours, PT1H for 1 hour)
# This controls how often the purge service checks for expired cache entries
# Default: PT24H (24 hours)
# Example: iptv.series-metadata-purge-interval=PT24H
# Example: iptv.series-metadata-purge-interval=PT12H
iptv.series-metadata-purge-interval=PT24H

# IPTV IMDB Metadata Cache Configuration
# Time-to-live for cached IMDB metadata (title, year information from OMDB API)
# Format: Duration (e.g., PT8760H for 365 days, PT168H for 7 days, PT24H for 24 hours)
# Note: Java Duration.parse() doesn't support 'D' (days), use hours instead (365 days = 8760 hours)
# Entries not accessed within this period will be purged
# Since IMDB information rarely changes, a longer TTL is recommended (default: 365 days)
# Default: PT8760H (365 days = 8760 hours)
# Example: iptv.imdb-metadata-cache-ttl=PT8760H
# Example: iptv.imdb-metadata-cache-ttl=PT168H
iptv.imdb-metadata-cache-ttl=PT8760H

# Interval for running the IMDB metadata purge job
# Format: Duration (e.g., PT24H for 24 hours, PT12H for 12 hours, PT1H for 1 hour)
# This controls how often the purge service checks for expired cache entries
# Default: PT24H (24 hours)
# Example: iptv.imdb-metadata-purge-interval=PT24H
# Example: iptv.imdb-metadata-purge-interval=PT12H
iptv.imdb-metadata-purge-interval=PT24H

# IPTV Metadata Fetch Batch Size Configuration
# Number of concurrent metadata fetch requests per batch during IPTV search operations
# When multiple movies or series are identified during search, metadata fetching is processed in parallel batches
# Default: 5 (processes 5 items concurrently per batch)
# Example: iptv.metadata-fetch-batch-size=5
# Example: iptv.metadata-fetch-batch-size=10
iptv.metadata-fetch-batch-size=5

# Path to FFprobe executable
# Default: "ffprobe" (assumes ffprobe is in system PATH)
# Example: iptv.ffprobe-path=ffprobe
# Example: iptv.ffprobe-path=/usr/bin/ffprobe
iptv.ffprobe-path=ffprobe

# FFprobe execution timeout
# Format: Duration (e.g., PT30S for 30 seconds, PT60S for 60 seconds)
# Default: PT30S (30 seconds)
# Example: iptv.ffprobe-timeout=PT30S
# Example: iptv.ffprobe-timeout=PT60S
iptv.ffprobe-timeout=PT30S

# Debrid Folder Mapping Configuration
# Enable debrid folder mapping feature (default: false)
# Example: debridav.debrid-folder-mapping.enabled=true
debridav.debrid-folder-mapping.enabled=false

# Comma-separated list of providers to enable folder mapping for (optional, can be empty)
# Example: debridav.debrid-folder-mapping.providers=premiumize,real_debrid
# Example: debridav.debrid-folder-mapping.providers=premiumize,real_debrid,torbox
debridav.debrid-folder-mapping.providers=

# Folder mappings per provider (provider:externalPath=internalPath:method)
# Format: provider:externalPath=internalPath:method
# Method must be: webdav or api (required, no default)
# To use both methods for the same provider folder, create separate mappings with different VFS paths
# Examples:
#   Single mapping: premiumize:/Downloads/TV=/pm_tv:webdav
#   Multiple mappings: premiumize:/Downloads/TV=/pm_tv:webdav,real_debrid:/Downloads/Movies=/rd_movies:api
#   Same folder with different methods: premiumize:/Downloads/TV=/pm_tv:webdav,premiumize:/Downloads/TV=/pm_tv_api:api
#   Multiple providers: premiumize:/Downloads/TV=/pm_tv:webdav,real_debrid:/Downloads/Movies=/rd_movies:api,torbox:/Media=/tb_media:api
#   Paths with spaces or special chars: premiumize:/My Downloads/TV Shows=/pm_tv:webdav
debridav.debrid-folder-mapping.mappings=

# Default sync interval for API-based sync (default: PT1H - 1 hour)
# Format: ISO 8601 duration (PT1H = 1 hour, PT30M = 30 minutes, PT2H = 2 hours)
# Can be overridden per mapping
# Examples: PT30M (30 minutes), PT1H (1 hour), PT2H (2 hours), PT6H (6 hours), PT24H (24 hours)
debridav.debrid-folder-mapping.sync-interval=PT1H


